services:
  - type: web
    name: tambourine-voice-server
    runtime: python
    region: frankfurt
    plan: free
    rootDir: server
    buildCommand: pip install uv && uv sync --frozen
    startCommand: uv run python render_start.py
    envVars:
      - key: PYTHON_VERSION
        value: "3.13.0"
      - key: GOOGLE_API_KEY
        sync: false
      - key: GOOGLE_CREDENTIALS_BASE64
        sync: false
      - key: AUTO_STT_PROVIDER
        value: google
      - key: AUTO_LLM_PROVIDER
        value: gemini
    healthCheckPath: /health
